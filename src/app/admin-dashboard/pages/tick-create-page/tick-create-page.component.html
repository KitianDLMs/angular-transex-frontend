<h1 class="text-2xl font-bold mb-4">Crear Tick</h1>

<form [formGroup]="tickForm" (ngSubmit)="createTick()" class="grid grid-cols-1 sm:grid-cols-2 gap-4">

  <!-- Cliente -->
  <select formControlName="cust_code" class="select select-bordered w-full" required>
    <option value="" disabled selected>Seleccione un cliente</option>
    <option *ngFor="let c of customers" [value]="c.cust_code">{{ c.name }}</option>
  </select>

  <!-- Proyecto -->
  <select formControlName="project_code" class="select select-bordered w-full">
    <option value="" disabled selected>Seleccione un proyecto</option>
    <option *ngFor="let p of projects" [value]="p.proj_code">{{ p.proj_name }}</option>
  </select>

  <!-- Orden -->
  <select formControlName="order_code" class="select select-bordered w-full" required>
    <option value="" disabled selected>Seleccione una orden</option>
    <option *ngFor="let o of orders" [value]="o.order_code">{{ o.order_code }}</option>
  </select>

  <!-- C贸digo de tick -->
  <input formControlName="tkt_code" class="input input-bordered w-full" placeholder="C贸digo de tick" required />

  <!-- Descripci贸n -->
  <input formControlName="description" class="input input-bordered w-full" placeholder="Descripci贸n" />

  <!-- Fecha de orden -->
  <input type="date" formControlName="order_date" class="input input-bordered w-full" required />

  <!-- Archivo opcional -->
  <input type="file" (change)="onFileSelected($event)" class="input w-full" />

  <!-- Mensaje de error -->
  <div *ngIf="error" class="text-red-600 col-span-2">{{ error }}</div>

  <!-- Botones -->
  <div class="col-span-1 sm:col-span-2 flex gap-4 mt-6">
    <button type="submit" class="btn btn-primary flex-1">
      Crear Tick
      <span class="loading loading-spinner loading-sm" *ngIf="loading"></span>
    </button>
    <a routerLink="/admin/ticks" class="btn btn-secondary flex-1">Cancelar</a>
  </div>
</form>
